import{R as h,t as m,j as l,a as e,T as p,c as f,r as N}from"./index.e4d323be.js";const v=h({key:"tasksSelector",get:({get:r})=>{const a=r(m);let t=[],c=[];for(let n in a){const s=a[n].filter(d=>!d.isCompleted),i=a[n].filter(d=>d.isCompleted);t.push(...s),c.push(...i)}return console.log(),{unCompleted:o(t),completed:o(c)}}});function o(r){return r.filter(t=>!t.hasOwnProperty("prevId"))}function w(){return l("div",{className:"show",children:[e(p,{mark:"alltasks",title:"\u4EFB\u52A1"}),e("hr",{}),e(C,{})]})}function C(){const{unCompleted:r,completed:a}=f(v),t=N.exports.useRef(null);function c(){const{current:s}=t;return document.body.clientHeight-s.offsetTop-s.clientHeight*3}function n(s){t.current.focus();const i=s.currentTarget.firstChild;/unfold/.test(i.classList)?(i.classList.add("closed-icon"),i.classList.remove("unfold")):(i.classList.add("unfold"),i.classList.remove("closed-icon")),s.currentTarget.parentNode.lastChild.style.height===""?(s.currentTarget.parentNode.lastChild.style.maxHeight=c()+"px",s.currentTarget.parentNode.lastChild.style.height=s.currentTarget.lastChild.innerText*43+"px"):s.currentTarget.parentNode.lastChild.style.height=""}return l("div",{className:"drawertitleaskcontainer",children:[l("div",{className:"uncomplated drawer",children:[l("div",{className:"drawerheader",onClick:n,ref:t,children:[e("svg",{className:"icon closed-icon","aria-hidden":"true",children:e("use",{xlinkHref:"#icon-youjiantou_huaban"})}),e("div",{className:"drawertitle",children:"\u672A\u5B8C\u6210"}),e("div",{className:"uncomplatedCount",children:r.length})]}),e(u,{type:r})]}),l("div",{className:"complated drawer",children:[l("div",{className:"drawerheader",onClick:n,children:[e("svg",{className:"icon","aria-hidden":"true",children:e("use",{xlinkHref:"#icon-youjiantou_huaban"})}),e("div",{className:"drawertitle",children:"\u5DF2\u5B8C\u6210"}),e("div",{className:"fliterComplatedCount",children:a.length})]}),e(u,{type:a})]}),e("div",{className:"timeout drawer",children:l("div",{className:"drawerheader",onClick:n,children:[e("svg",{className:"icon","aria-hidden":"true",children:e("use",{xlinkHref:"#icon-youjiantou_huaban"})}),e("div",{className:"drawertitle",children:"\u5DF2\u8FC7\u671F"})]})})]})}function u(r){const{type:a}=r;return e("div",{className:"showlist",children:a.map(t=>l("div",{className:"TaskItem",children:[e("div",{className:"iscompleted disabled",children:e("svg",{className:"icon","aria-hidden":"true",children:e("use",{xlinkHref:t.isCompleted?"#icon-wancheng":"#icon-round-blue"})})}),e("span",{className:t.isCompleted?"task del-line":"task",children:t.title})]},t.id))})}export{w as default};
